# DroneCI

## Drone tokens

Get your access token by accessing below URL.

```(html)
https://moving-whale-humbly.ngrok-free.app/
```

Than go to Account Setting at bottom left and grab your personal token.

E.g:

```(text)
export DRONE_SERVER=https://moving-whale-humbly.ngrok-free.app
export DRONE_TOKEN=xxxx-xxx-xxx-xxx-xxxxx
drone info
```

Checking if you are authenticated by following below command

| drone info

### Setting the droneCI server

Run below commands to sync, active and update repositories into DroneCI.

```(shell)
drone repo ls |grep "rdgacarvalho" | xargs -L1 drone repo sync && \
drone repo ls | grep rdgacarvalho | xargs -L1 drone repo enable && \
drone repo ls | grep rdgacarvalho | xargs -L1 drone repo update --trusted
drone repo ls | grep rdgacarvalho 
```

```(secret)
drone orgsecret add --allow-pull-request rdgacarvalho slack_deploys_hook https://hooks.slack.com/services/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
drone orgsecret add --allow-pull-request rdgacarvalho slack_kubernetes_hook https://hooks.slack.com/services/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
drone orgsecret add --allow-pull-request rdgacarvalho slack_web_hook aHR0cHM6Ly9ob29rcy5zbGFjay5jb20vc2VydmljZXMvVDAxTVY4RExBOE0vQjA1VE5ITUpRMFkvNUpXMjJMQWptb1Y1c0V5bEVmMDFyQ1lRCg==
drone orgsecret add --allow-pull-request rdgacarvalho slack_terraform_hook https://hooks.slack.com/services/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
```
